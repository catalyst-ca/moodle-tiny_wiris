{"version":3,"file":"plugin.min.js","sources":["../src/plugin.js"],"sourcesContent":["import {component} from './common';\nimport * as Configuration from './configuration';\nimport * as Config from 'core/config';\n\nexport const baseUrl = `${Config.wwwroot}/lib/editor/tiny/plugins/wiris/js`;\n\nexport default new Promise(async(resolve, reject) => {\n    const head = document.querySelector('head');\n    let script = head.querySelector('script[data-mathtype=\"mathtype\"]');\n    // If plugin.min.js file is already loaded, execute the init and resolve the promise\n    if (script) {\n        window.WirisPlugin.init(`${component}/plugin`);\n        resolve([`${component}/plugin`, Configuration]);\n    }\n\n    // Load plugin.min.js to the head\n    script = document.createElement('script');\n    script.dataset.mathtype = 'mathtype';\n    script.src = `${baseUrl}/plugin.min.js`;\n    script.async = true;\n\n    script.addEventListener('load', () => {\n        window.WirisPlugin.init(`${component}/plugin`);\n        resolve([`${component}/plugin`, Configuration]);\n    }, false);\n\n    script.addEventListener('error', (err) => {\n        reject(err);\n    }, false);\n\n    head.append(script);\n});"],"names":["baseUrl","Config","wwwroot","Promise","async","resolve","reject","head","document","querySelector","script","window","WirisPlugin","init","component","Configuration","createElement","dataset","mathtype","src","addEventListener","err","append"],"mappings":"6vCAIaA,kBAAaC,OAAOC,mFAElB,IAAIC,SAAQC,MAAMC,QAASC,gBAChCC,KAAOC,SAASC,cAAc,YAChCC,OAASH,KAAKE,cAAc,oCAE5BC,SACAC,OAAOC,YAAYC,eAAQC,8BAC3BT,QAAQ,WAAIS,6BAAoBC,iBAIpCL,OAASF,SAASQ,cAAc,UAChCN,OAAOO,QAAQC,SAAW,WAC1BR,OAAOS,cAASnB,0BAChBU,OAAON,OAAQ,EAEfM,OAAOU,iBAAiB,QAAQ,KAC5BT,OAAOC,YAAYC,eAAQC,8BAC3BT,QAAQ,WAAIS,6BAAoBC,mBACjC,GAEHL,OAAOU,iBAAiB,SAAUC,MAC9Bf,OAAOe,QACR,GAEHd,KAAKe,OAAOZ"}